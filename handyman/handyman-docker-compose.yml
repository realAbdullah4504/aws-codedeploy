services:
  handyman-app:
    # build:
    #   context: ./handyman
    image: public.ecr.aws/n0k0s5r9/handyman-app:11
    ports:
      - "3000:3000"
    # depends_on:
    #   - mongo
    environment:
      - NEXT_PUBLIC_ENV=development
      # - NEXT_MONGO_URL=mongodb+srv://Javed:QfgtEOcLSYGtQgLT@cluster0.c7tvp.mongodb.net/developement
      - NEXT_MONGO_URL=mongodb://root_user:example@mongo:27017,172.31.2.121:27018/developement?authSource=admin&replicaSet=rs0&readPreference=secondary
      - BASE_URL=http://localhost:3000
      - NEXT_PUBLIC_BASE_URL=http://localhost:3000
      - ACCESS_TOKEN_SECRET=sfdfd4jsjdjsds
      - REFRESH_TOKEN_SECRET=dsdsd4sdsdsd
      - CLOUDINARY_URL=cloudinary://195434589214847:j4aWR-dS4IVIoQuaX8q2EGGy-8g@dcncm1bi9
    # volumes:
    #   - .:/app
    networks:
    - handyman-app
    - mongo-network

networks:
  handyman-app:
    driver: bridge
  mongo-network:
    name: mongo-network